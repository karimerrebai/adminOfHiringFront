<div class="page-wrapper" style="min-height: 800px">
  <div class="card-body">
    <div class="card-header pt-0">
      <h4 class="card-title">Contracts</h4>
      <label
        >Search:<input
          type="search"
          class="form-control form-control-sm"
          placeholder=""
          aria-controls="DataTables_Table_0"
      /></label>
    </div>
    <div class="table-responsive">
      <table class="table table-nowrap mb-0">
        <thead>
          <tr>
            <th>#</th>
            <th>contract type</th>

            <a (click)="open1(content)" class="btn btn-success">
              <i class="fas fa-plus"></i
            ></a>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let i of contractsList; let index = index">
            <td>{{ index + 1 }}</td>
            <td>{{ i.name }}</td>

            &nbsp;
            <a class="btn btn-danger btn-circle" (click)="deletele(i._id)">
              <i class="fas fa-trash"></i>
            </a>
            &nbsp;
            <a (click)="open2(content1, i)" class="btn btn-warning btn-circle">
              <i class="fas fa-exclamation-triangle"></i>
            </a>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Create contract</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="form">
      <div class="mb-3">
        <label>Name</label>
        <div class="input-group">
          <input
            class="form-control"
            formControlName="name"
            placeholder="Name"
          />
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-outline-dark"
      (click)="modal.close('Save click'); addContract()"
    >
      Save
    </button>
  </div>
</ng-template>

<hr />
<pre>{{ closeResult }}</pre>
<!--update contract-->

<ng-template #content1 let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Update contract</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="form">
      <div class="mb-3">
        <label>Name</label>
        <div class="input-group">
          <input
            class="form-control"
            formControlName="name"
            placeholder="Name"
          />
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-outline-dark"
      (click)="modal.close('Save click'); updateContract()"
    >
      update
    </button>
  </div>
</ng-template>

<hr />

<pre>{{ closeResult }}</pre>
